{% extends 'base.html' %}
{% load crispy_forms_tags %}
{% block title_block %} {{ title }} {% endblock %}

{% block css_block %}
.country {
width: 550px;
border: 1px solid #ccc;
padding: 25px;
}

.like,
.dislike {
display: inline-block;
margin-bottom: 0;
font-weight: normal;
text-align: center;
vertical-align: middle;
cursor: pointer;
background: lightgreen;
border: 1px solid transparent;
white-space: nowrap;
padding: 6px 12px;
font-size: 14px;
line-height: 1.428571429;
border-radius: 4px;
}
.qty1,
.qty2 {
border: none;
width:20px;
background: transparent;
}
{% endblock %}

{% block body_block %}
<center >
    <div class="country" style="background-color: #3290c2">
        <h3>Post Details</h3>
        <img src="/media/{{ post.image }}" width="auto" height="250" class="" alt="">
        <table>
            <tr>
                <th>Name: </th>
                <td>
                    {{ post.author }}
                </td>
            </tr>
            <tr>
                <th>Description: </th>
                <td>{{ post.description }}</td>
            </tr>

        </table>
        {% if reacts.count == 1 %}
        <a href="{% url 'App_Dashboard:react_post' post_id=post.id %}" class="like"><i  class="fa fa-thumbs-down"> Unlike({{ total_reacts.count }})</i></a>
        {% else %}
        <a href="{% url 'App_Dashboard:react_post' post_id=post.id %}" class="like"><i  class="fa fa-thumbs-up"> Like({{ total_reacts.count }})</i></a>
        {% endif %}


        <hr>
        <h5 style="background-color: pink">Comments here</h5>
        {% for reply in replies %}
        <div class="d-flex align-items-center">
            <div class="form-group  mr-3 d-flex align-items-center">
                {% if reply.user.user_profile.profile_pic %}
                <img src="/media/{{ reply.user.user_profile.profile_pic }}" width="50px" height="50px" class="mr-1 rounded-circle" alt="">
                {% else %}
                <img src="/media/default.jpg" width="50px" height="50px" class="rounded-circle mr-1" alt="">
                {% endif %}<h5>

                    {{ reply.user }} :
                </h5>
            </div>

            <div  class="form-group">
                <p>{{ reply.message }}</p>
            </div>
        </div>
        {% endfor %}

        <form action="{% url 'App_Dashboard:reply' %}" method="post">
            {% csrf_token %}
            <div class="d-flex">
                <div>
                    <input type="hidden" name="post_id" value="{{ post.id }}">
                    <input type="text" class="form-control" name="message" placeholder="Type you comment here">
                </div>

                <div>
                <button type="submit" class="btn btn-primary">Submit</button>
            </div>
            </div>
        </form>

    </div>
</center>

{% endblock %}